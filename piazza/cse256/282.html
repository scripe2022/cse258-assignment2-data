{"result":{"history_size":1,"folders":["pa2"],"nr":282,"data":{"embed_links":[]},"created":"2024-10-27T20:55:00Z","bucket_order":3,"no_answer_followup":2,"change_log":[{"anon":"stud","data":"m2s2jl5vcuo3ct","v":"all","type":"create","when":"2024-10-27T20:55:00Z","uid_a":"a_0"},{"anon":"no","uid":"ku2mpmjms7n645","data":"m2sn5ibj1c225o","to":"m2s2jl5onup3cs","type":"i_answer","when":"2024-10-28T06:31:55Z"},{"anon":"no","uid":"lmpga1m6ftd62m","data":"m2sqlg6035b1q4","type":"i_answer_update","when":"2024-10-28T08:08:18Z"},{"anon":"stud","to":"m2s2jl5onup3cs","type":"followup","when":"2024-10-28T17:21:17Z","cid":"m2tacl1h83j5dw","uid_a":"a_1"},{"anon":"no","uid":"ku2mpmjms7n645","to":"m2s2jl5onup3cs","type":"feedback","when":"2024-10-29T04:35:01Z","cid":"m2tyf0wfj1r5cl"},{"anon":"no","uid":"m182yt8a22e4cr","to":"m2s2jl5onup3cs","type":"followup","when":"2024-10-29T21:36:13Z","cid":"m2uywaiw3df6v"},{"anon":"no","uid":"lxmbc110rzxfi","to":"m2s2jl5onup3cs","type":"feedback","when":"2024-10-31T05:23:32Z","cid":"m2wv13y2b1vfn"},{"anon":"stud","to":"m2s2jl5onup3cs","type":"feedback","when":"2024-10-31T22:39:26Z","cid":"m2xw1ahitmwll","uid_a":"a_0"},{"anon":"stud","to":"m2s2jl5onup3cs","type":"feedback","when":"2024-11-04T07:55:41Z","cid":"m32q86uorbi44l","uid_a":"a_2"},{"anon":"no","uid":"m182yt8a22e4cr","to":"m2s2jl5onup3cs","type":"feedback","when":"2024-11-06T00:47:18Z","cid":"m355szmunpl4qu"}],"bucket_name":"Today","history":[{"anon":"stud","uid_a":"a_0","subject":"sanity check for each epoch of the training stage","created":"2024-10-27T20:55:00Z","content":"<p>Can we need to do sanity check in each epoch for the training stage?</p>\n<p></p>\n<p>Since we need to do the sanity check after building the training model, and we also need to compute accuracy for the test set after each of the 15 epochs, we can only do sanity check in each epoch for the training stage if we want to keep the code concise like this:</p>\n<p>for each epoch:</p>\n<p style=\"padding-left:40px\">train</p>\n<p style=\"padding-left:40px\">sanity check</p>\n<p style=\"padding-left:40px\">compute accuracy for test data</p>\n<p style=\"padding-left:40px\"></p>\n<p>Not sure if my understanding and idea of the code logic is correct. Thank you for answering the question!</p>"}],"type":"question","tags":["pa2","student"],"tag_good":[],"unique_views":177,"children":[{"history_size":2,"folders":[],"data":{"embed_links":[]},"created":"2024-10-28T06:31:55Z","bucket_order":3,"tag_endorse":[{"role":"student","name":"Sarvani Kunapareddy","endorser":{},"admin":false,"photo":"a108afd0-df22-4c82-a48b-4615ee8b0e26_200.jpg","id":"m182yor466x3zz","photo_url":"https://cdn-uploads.piazza.com/photos/m182yor466x3zz/a108afd0-df22-4c82-a48b-4615ee8b0e26_200.jpg","published":true,"us":false,"facebook_id":null},{"role":"student","name":"Vincent Thai","endorser":{},"admin":false,"photo":null,"id":"m182yq7tlkm442","photo_url":null,"published":true,"us":false,"facebook_id":null},{"role":"student","name":"Yutian Shi","endorser":{},"admin":false,"photo":null,"id":"kfsi52ar6572xo","photo_url":null,"published":true,"us":false,"facebook_id":null}],"bucket_name":"Today","history":[{"anon":"no","uid":"lmpga1m6ftd62m","subject":"","created":"2024-10-28T08:08:18Z","content":"<md>Don't do sanity check in training. \n\nSanity check is just for validating your implementation is correct or not. Just try once or twice before training to see your code passes or not.</md>"},{"anon":"no","uid":"ku2mpmjms7n645","subject":"","created":"2024-10-28T06:31:55Z","content":"<md>Don't do sanity check in training. \n\nSanity check is just for validating your implementation is correct or not. Just try once or twice before training to see your code passes or not.</md>"}],"type":"i_answer","tag_endorse_arr":["m182yor466x3zz","m182yq7tlkm442","kfsi52ar6572xo"],"children":[],"id":"m2sn5ibem5125n","config":{"editor":"md"},"is_tag_endorse":false},{"anon":"stud","folders":[],"data":{"embed_links":null},"no_upvotes":0,"subject":"I am having a weird issue where I am getting an accuracy of 86% but I am not passing the sanity check. Any idea what could be going wrong?","created":"2024-10-28T17:21:17Z","bucket_order":6,"bucket_name":"Last week","type":"followup","tag_good":[],"uid_a":"a_1","children":[{"anon":"no","folders":[],"data":{"embed_links":null},"subject":"<md>Check your shape of `attn_map` tensors, it could be different depending how you make attn_map list.\nTry `total_prob_over_rows = torch.sum(attn_map[0], dim=-1)` if this works, adjust your tensor shape accordingly</md>","created":"2024-10-29T04:35:01Z","bucket_order":4,"bucket_name":"Yesterday","type":"feedback","tag_good":[],"uid":"ku2mpmjms7n645","children":[],"tag_good_arr":[],"id":"m2tyf0wfj1r5cl","d-bucket":"Yesterday","updated":"2024-11-06T07:41:56Z","config":{"editor":"md"}}],"tag_good_arr":[],"no_answer":1,"id":"m2tacl1h83j5dw","updated":"2024-10-29T04:35:01Z","config":{"editor":"rte"}},{"anon":"no","folders":[],"data":{"embed_links":null},"no_upvotes":0,"subject":"<md>If we're supposed to run the sanity check before training, then wouldn't the attention matrices be random, since the model params haven't been trained yet?</md>","created":"2024-10-29T21:36:13Z","bucket_order":4,"bucket_name":"Yesterday","type":"followup","tag_good":[{"role":"student","name":"Akshay Ghosh","endorser":{},"admin":false,"photo":null,"id":"lxmbc110rzxfi","photo_url":null,"us":false,"facebook_id":null},{"role":"student","name":"Erica Cheng","endorser":{},"admin":false,"photo":null,"id":"m182ygrlgf83d9","photo_url":null,"published":true,"us":false,"facebook_id":null},{"role":"student","name":"Oren Ciolli","endorser":{},"admin":false,"photo":null,"id":"k188akrhtjv69o","photo_url":null,"us":false,"facebook_id":null}],"uid":"m182yt8a22e4cr","children":[{"anon":"no","folders":[],"data":{"embed_links":null},"subject":"I&#39;m also wondering what we&#39;re supposed to do for this. How should we interpret the attention plots if we do the sanity check before training?","created":"2024-10-31T05:23:32Z","bucket_order":6,"bucket_name":"Last week","type":"feedback","tag_good":[{"role":"student","name":"Erica Cheng","endorser":{},"admin":false,"photo":null,"id":"m182ygrlgf83d9","photo_url":null,"published":true,"us":false,"facebook_id":null}],"uid":"lxmbc110rzxfi","children":[],"tag_good_arr":["m182ygrlgf83d9"],"id":"m2wv13y2b1vfn","updated":"2024-10-31T22:37:13Z","config":{"editor":"rte"}},{"anon":"stud","folders":[],"data":{"embed_links":null},"subject":"<p>I have the same question, too. Why do we do the sanity check before training? In <a href=\"/class/m182y0mqvor2k7/post/233,\" target=\"_blank\" rel=\"noopener noreferrer\">https://piazza.com/class/m182y0mqvor2k7/post/233,</a> the TA seems to say we should do it after training.</p>\n<p>So should we do sanity check before or after training?</p>","created":"2024-10-31T22:39:26Z","bucket_order":6,"bucket_name":"Last week","type":"feedback","tag_good":[],"uid_a":"a_0","children":[],"tag_good_arr":[],"id":"m2xw1ahitmwll","updated":"2024-10-31T22:39:26Z","config":{"editor":"rte"}},{"anon":"stud","folders":[],"data":{"embed_links":null},"subject":"Exactly my thoughts, so how are you guys coping with this... Post-training or just those random maps which has no reason to observe here.","created":"2024-11-04T07:55:41Z","bucket_order":5,"bucket_name":"This week","type":"feedback","tag_good":[{"role":"student","name":"Jinyi Wan","endorser":{},"admin":false,"photo":null,"id":"m182yqlxqmo44u","photo_url":null,"published":true,"us":false,"facebook_id":null}],"uid_a":"a_2","children":[],"tag_good_arr":["m182yqlxqmo44u"],"id":"m32q86uorbi44l","updated":"2024-11-05T04:26:31Z","config":{"editor":"rte"}},{"anon":"no","folders":[],"data":{"embed_links":null},"subject":"<md>Bosung has already answered this in other posts. Run the sanity check *both* before and after training. Before training is to make sure that your attention implementation is even correct in the first place, and after training is for analysis.</md>","created":"2024-11-06T00:47:18Z","bucket_order":3,"bucket_name":"Today","type":"feedback","tag_good":[{"role":"student","name":"Erica Cheng","endorser":{},"admin":false,"photo":null,"id":"m182ygrlgf83d9","photo_url":null,"published":true,"us":false,"facebook_id":null}],"uid":"m182yt8a22e4cr","children":[],"tag_good_arr":["m182ygrlgf83d9"],"id":"m355szmunpl4qu","updated":"2024-11-06T18:28:47Z","config":{"editor":"md"}}],"tag_good_arr":["lxmbc110rzxfi","m182ygrlgf83d9","k188akrhtjv69o"],"no_answer":1,"id":"m2uywaiw3df6v","d-bucket":"Yesterday","updated":"2024-11-06T00:47:18Z","config":{"editor":"md"}}],"tag_good_arr":[],"no_answer":0,"id":"m2s2jl5onup3cs","config":{"editor":"rte","has_emails_sent":1},"status":"active","drafts":{},"request_instructor":0,"request_instructor_me":false,"bookmarked":7,"num_favorites":3,"my_favorite":false,"is_bookmarked":false,"is_tag_good":false,"q_edits":[],"i_edits":[],"s_edits":[],"t":1731990289462,"default_anonymity":"no"},"error":null,"aid":"m3nyasdnwwh5wi"}