{"result":{"history_size":1,"folders":["hw1"],"nr":25,"data":{"embed_links":[]},"created":"2024-04-22T19:18:57Z","bucket_order":3,"no_answer_followup":0,"change_log":[{"anon":"stud","data":"lvbcbx4fj1bv","v":"all","type":"create","when":"2024-04-22T19:18:57Z","uid_a":"a_0"},{"anon":"stud","data":"lvbcpal03655o","to":"lvbcbx47cgwbu","type":"s_answer","when":"2024-04-22T19:29:21Z","uid_a":"a_1"},{"anon":"stud","to":"lvbcbx47cgwbu","type":"followup","when":"2024-04-22T19:39:55Z","cid":"lvbd2vorswd3j4","uid_a":"a_0"},{"anon":"stud","to":"lvbcbx47cgwbu","type":"feedback","when":"2024-04-22T19:43:15Z","cid":"lvbd75uakwp6ye","uid_a":"a_0"},{"anon":"stud","to":"lvbcbx47cgwbu","type":"feedback","when":"2024-04-22T19:45:30Z","cid":"lvbda1q7b5bcz","uid_a":"a_1"},{"anon":"stud","to":"lvbcbx47cgwbu","type":"feedback","when":"2024-04-22T19:57:19Z","cid":"lvbdp8s3uvf5ty","uid_a":"a_1"}],"bucket_name":"Today","history":[{"anon":"stud","uid_a":"a_0","subject":"Critical operations","created":"2024-04-22T19:18:57Z","content":"<p>I&#39;m having some trouble fully understanding how we determine whether something is a critical operation or not. The only information we have that could help us decide is the following:</p>\n<p></p>\n<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flqwxiwk6sy4391%2F494b495bdf1814b875ada4f5730f4568da8bed3757011b3b5282ccc3423250c0%2Fimage.png\" alt=\"image.png\" width=\"340\" height=\"71\" /></p>\n<p></p>\n<p>However, I don&#39;t understand how this includes any instruction of the type x &lt;- y op z, and I don&#39;t see how this is expressed in the pseudocode for dead-code elimination. I recall that in class we had that, if for instance we have &#34;print x&#34;, then we also mark as critical the definitions of x, but I don&#39;t see where that is show in the pseudocode.</p>"}],"type":"question","tags":["hw1","student"],"tag_good":[],"unique_views":37,"children":[{"history_size":1,"folders":[],"data":{"embed_links":[]},"created":"2024-04-22T19:29:21Z","bucket_order":3,"tag_endorse":[],"bucket_name":"Today","history":[{"anon":"stud","uid_a":"a_1","subject":"","created":"2024-04-22T19:29:21Z","content":"<md>An instruction is a critical operation if it is an I/O statement (like print), or if it causes an entry/exit from a basic block (i.e. branch, goto, call/callr, return, etc). These intentionally do not generally include instructions of the type x <- y op z, however instructions of that form will be marked if they write to the variables used in the critical operations. This is expressed in the mark phase of the pseudocode:\n![image.png](/redirect/s3?bucket=uploads&prefix=paste%2Fktt6bokdzg15d8%2F79731087e0c283c7045b2f43a9424579a5769b134755ed06d9272b527a89a0d4%2Fimage.png)</md>"}],"type":"s_answer","tag_endorse_arr":[],"children":[],"id":"lvbcpakv67m55n","config":{"editor":"md"},"is_tag_endorse":false},{"anon":"stud","folders":[],"data":{"embed_links":null},"no_upvotes":0,"subject":"<p>Okay, I think I was understanding it wrong then...</p>\n<p>This Mark algorithm is only to mark as critical those that we don&#39;t already know are critical (which are the ones in the list I provided in the question). So, the for loop only loops through operations and not all instructions (that is, it will only check instructions of the type z&lt;-x op y). And then, the while makes sure to mark as well the definitions needed for those operations. Is that right?</p>","created":"2024-04-22T19:39:55Z","bucket_order":3,"bucket_name":"Today","type":"followup","tag_good":[],"uid_a":"a_0","children":[{"anon":"stud","folders":[],"data":{"embed_links":null},"subject":"Wait no, this doesn&#39;t make sense because we would be leaving out many definitions if they are not operated on...","created":"2024-04-22T19:43:15Z","bucket_order":3,"bucket_name":"Today","type":"feedback","tag_good":[],"uid_a":"a_0","children":[],"tag_good_arr":[],"id":"lvbd75uakwp6ye","updated":"2024-04-22T19:43:15Z","config":{"editor":"rte"}},{"anon":"stud","folders":[],"data":{"embed_links":null},"subject":"<md>The Mark algorithm will mark all instructions that are not dead code. The for loop goes through all instructions and marks all the critical operations (branches, goto, call, etc). Then the while loop will mark all the instructions that write to variables used in the critical operations.</md>","created":"2024-04-22T19:45:30Z","bucket_order":3,"bucket_name":"Today","type":"feedback","tag_good":[{"role":"student","name":"Ana Maria Sampedro Barrera","endorser":{},"admin":false,"photo":null,"id":"lqwxiwk6sy4391","photo_url":null,"us":false,"facebook_id":null}],"uid_a":"a_1","children":[],"tag_good_arr":["lqwxiwk6sy4391"],"id":"lvbda1q7b5bcz","updated":"2024-04-22T19:46:15Z","config":{"editor":"md"}},{"anon":"stud","folders":[],"data":{"embed_links":null},"subject":"<md>Consider the following example from the slides:\n\n![image.png](/redirect/s3?bucket=uploads&prefix=paste%2Fktt6bokdzg15d8%2F6a1295b73461ecf9546515c6d60f22fc4f736f1aea8fcec7886bad287f39826b%2Fimage.png)\n\nFirst, the for loop will only mark the critical instructions, in this case the `print y` instruction. After the for loop has executed, our worklist consists of `[print y]`.\n\nThen, the while loop removes `print y` from the worklist and marks all instructions that write to `y` (in this case `y <- x + 1`), and adds those instructions to the worklist. After one iteration of the while loop, our worklist consists of `[y <- x + 1]`. Another iteration of the while loop removes `y <- x + 1` from the worklist and marks all instructions that write to `x`, thus marking and adding `x <- 1` to the worklist. After the second iteration of the while loop, our worklist consists of `[x <- 1]`. The loop continues executing until there are no more instructions in the worklist, which in this case would be after the third iteration, as no other instructions write to `x`.\n\nAfter the while loop is done executing, we have marked `print y`, `y <- x + 1`, and `x <- 1` as not dead code. All unmarked instructions are removed, resulting in \n\n![image.png](/redirect/s3?bucket=uploads&prefix=paste%2Fktt6bokdzg15d8%2Fcd1fd18dbb809fe6bb3c56048bc29480b736c69726173d475f1ea496af60859d%2Fimage.png)</md>","created":"2024-04-22T19:57:19Z","bucket_order":3,"bucket_name":"Today","type":"feedback","tag_good":[{"role":"student","name":"Ana Maria Sampedro Barrera","endorser":{},"admin":false,"photo":null,"id":"lqwxiwk6sy4391","photo_url":null,"us":false,"facebook_id":null}],"uid_a":"a_1","children":[],"tag_good_arr":["lqwxiwk6sy4391"],"id":"lvbdp8s3uvf5ty","updated":"2024-04-22T19:59:39Z","config":{"editor":"md"}}],"tag_good_arr":[],"no_answer":0,"id":"lvbd2vorswd3j4","updated":"2024-04-22T19:57:19Z","config":{"editor":"rte"}}],"tag_good_arr":[],"no_answer":0,"id":"lvbcbx47cgwbu","config":{"editor":"rte","has_emails_sent":1},"status":"active","drafts":{},"request_instructor":0,"request_instructor_me":false,"bookmarked":2,"num_favorites":0,"my_favorite":false,"is_bookmarked":false,"is_tag_good":false,"q_edits":[],"i_edits":[],"s_edits":[],"t":1731990946346,"default_anonymity":"no"},"error":null,"aid":"m3nyov8ae533qx"}